{% extends "trs/base.html" %}
{% load trs_formatting %}

{% block main-column %}
  <h1>
    {{ view.title }}
    {% if view.small_title %}
      <small>({{ view.small_title }})</small>
    {% endif %}
  </h1>

  {% for visible_filter in view.visible_filters %}
    <div {% if not visible_filter.active %}class="text-muted"{% endif %}>
      <span class="filter-title">
        {{ visible_filter.title }}:
      </span>
      {% for choice in visible_filter.choices %}
        {% if choice.active %}
          <b class="active-choice">
            {{ choice.title }}
          </b>
        {% else %}
          <a href="?{{ choice.query_string }}">
            {{ choice.title }}
          </a>
        {% endif %}
        {% if not forloop.last %}
          |
        {% endif %}
      {% endfor %}
    </div>
  {% endfor %}


  <div class="text-muted">
    {% if view.filters.archived %}
      <a href="?archived=false">Toon huidige medewerkers</a> |
      <span>Gearchiveerde medewerkers</span>
    {% else %}
      <span>Huidige medewerkers</span> |
      <a href="?archived=true">Toon gearchiveerde medewerkers</a>
    {% endif %}
  </div>
  <table class="table table-hover table-condensed table-fixed-header">
    <thead class="header">
      <tr>
        <th>Naam</th>
        <th class="text-right"
            title="Nog boekbare uren op externe projecten">
          Werkvoorraad
        </th>
      </tr>
    </thead>
    <tbody>
      {% for line in view.lines %}
        <tr>
          <td>
            {{ line.person.as_widget }}
          </td>
          <td class="text-right">
            {{ line.pyc.left_to_book_external|hours }}
          </td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

{% endblock %}
